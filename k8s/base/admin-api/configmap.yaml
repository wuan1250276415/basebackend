apiVersion: v1
kind: ConfigMap
metadata:
  name: admin-api-config
  labels:
    app: admin-api
data:
  # Nacos配置
  nacos.server.addr: "nacos-headless:8848"
  nacos.namespace: "public"
  nacos.group: "DEFAULT_GROUP"

  # 应用配置
  application.yml: |
    server:
      port: 8082
      shutdown: graceful

    spring:
      lifecycle:
        timeout-per-shutdown-phase: 30s

    # 健康检查配置
    management:
      endpoints:
        web:
          exposure:
            include: health,info,metrics,prometheus
      health:
        livenessState:
          enabled: true
        readinessState:
          enabled: true
      metrics:
        export:
          prometheus:
            enabled: true
