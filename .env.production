# ==========================================
# 生产环境环境变量配置
# ==========================================
# 警告: 此文件包含敏感信息，请妥善保管
# 在 CI/CD 流水线中使用 GitHub Secrets

# 数据库配置
DB_PASSWORD=your_secure_db_password_here
DB_PASSWORD_ENCRYPTED=your_encrypted_password

# Redis 配置
REDIS_PASSWORD=your_secure_redis_password_here

# Grafana 配置
GRAFANA_PASSWORD=your_secure_grafana_password_here

# ==========================================
# 服务器配置
# ==========================================

# 测试环境服务器
STAGING_HOST=staging.example.com
STAGING_USER=deployer
# STAGING_SSH_KEY 在 GitHub Secrets 中配置

# 生产环境服务器
PRODUCTION_HOST=production.example.com
PRODUCTION_USER=deployer
# PRODUCTION_SSH_KEY 在 GitHub Secrets 中配置

# ==========================================
# 数据库连接池配置
# ==========================================
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000

# ==========================================
# 应用性能配置
# ==========================================
SERVER_TOMCAT_THREADS_MAX=200
SERVER_TOMCAT_THREADS_MIN_SPARE=10
SERVER_TOMCAT_MAX_CONNECTIONS=8192
SERVER_TOMCAT_ACCEPT_COUNT=100

# ==========================================
# 监控配置
# ==========================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=never
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# ==========================================
# Camunda 配置
# ==========================================
CAMUNDA_JOB_EXECUTOR_MAX_POOL_SIZE=10
CAMUNDA_JOB_EXECUTOR_CORE_POOL_SIZE=3
CAMUNDA_JOB_EXECUTOR_QUEUE_CAPACITY=100
CAMUNDA_JOB_EXECUTOR_KEEP_ALIVE_SECONDS=60

# ==========================================
# PowerJob 配置
# ==========================================
POWERJOB_WORKER_ENABLED=true
POWERJOB_WORKER_APP_NAME=basebackend-scheduler
POWERJOB_WORKER_SERVER_ADDRESS=localhost:7700
POWERJOB_DISPATCHER_INTERVAL=30000

# ==========================================
# 安全配置
# ==========================================
SECURITY_OAUTH2_CLIENT_CLIENT_ID=your_client_id
SECURITY_OAUTH2_CLIENT_CLIENT_SECRET=your_client_secret
SECURITY_JWT_SECRET=your_jwt_secret_key_minimum_256_bits
SECURITY_JWT_EXPIRATION=86400

# ==========================================
# 日志配置
# ==========================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_BASEBACKEND=INFO
LOGGING_PATTERN_CONSOLE=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
LOGGING_PATTERN_FILE=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ==========================================
# Nacos 配置
# ==========================================
SPRING_CLOUD_NACOS_DISCOVERY_SERVER-ADDR=nacos:8848
SPRING_CLOUD_NACOS_CONFIG_SERVER-ADDR=nacos:8848
SPRING_CLOUD_NACOS_CONFIG_GROUP=DEFAULT_GROUP
SPRING_CLOUD_NACOS_CONFIG_NAMESPACE=production
