# å®‰å…¨æ¼æ´æ‰«æå®æ–½æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†BaseBackendé¡¹ç›®å®‰å…¨æ¼æ´æ‰«æç³»ç»Ÿçš„è®¾è®¡ä¸å®æ–½ï¼ŒåŒ…æ‹¬é™æ€ä»£ç åˆ†æã€ä¾èµ–ç»„ä»¶æ‰«æã€é…ç½®å®‰å…¨å®¡è®¡å’ŒåŠ¨æ€æ¸—é€æµ‹è¯•ã€‚è¯¥ç³»ç»Ÿé‡‡ç”¨å¤šå¼•æ“æ‰«ææ¶æ„ï¼Œæ”¯æŒå¹¶è¡Œæ‰§è¡Œå’Œå…¨é¢çš„æ¼æ´æŠ¥å‘Šã€‚

---

## ğŸ¯ å®æ–½ç›®æ ‡

### æ ¸å¿ƒç›®æ ‡
1. âœ… å®ç°å¤šç»´åº¦å®‰å…¨æ¼æ´æ£€æµ‹
2. âœ… æ”¯æŒé™æ€ä»£ç åˆ†æï¼ˆSASTï¼‰
3. âœ… é›†æˆä¾èµ–ç»„ä»¶å®‰å…¨æ‰«æ
4. âœ… æä¾›é…ç½®å®‰å…¨å®¡è®¡
5. âœ… æ”¯æŒåŠ¨æ€æ¸—é€æµ‹è¯•ï¼ˆDASTï¼‰
6. âœ… ç”Ÿæˆè¯¦ç»†æ¼æ´æŠ¥å‘Š
7. âœ… å®ç°å®šæ—¶è‡ªåŠ¨æ‰«æ
8. âœ… é›†æˆå‘Šè­¦é€šçŸ¥æœºåˆ¶

### æŠ€æœ¯æ ˆ
- **æ‰«æå¼•æ“**: è‡ªç ” + é›†æˆç¬¬ä¸‰æ–¹å·¥å…·
- **é™æ€åˆ†æ**: SonarQubeã€SpotBugsã€FindBugs
- **ä¾èµ–æ£€æŸ¥**: OWASP Dependency-Check
- **æŠ¥å‘Šç”Ÿæˆ**: è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“
- **æ•°æ®å­˜å‚¨**: MySQL
- **å®šæ—¶ä»»åŠ¡**: Spring Scheduler
- **å‘Šè­¦æ¸ é“**: é‚®ä»¶ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å®‰å…¨æ¼æ´æ‰«æç³»ç»Ÿ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   æ‰«ææ¥å£    â”‚  â”‚   æ‰«æå¼•æ“    â”‚  â”‚   æŠ¥å‘Šç”Ÿæˆ    â”‚    â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚    â”‚
â”‚  â”‚ â€¢ REST API   â”‚  â”‚ â€¢ SASTå¼•æ“   â”‚  â”‚ â€¢ HTMLæŠ¥å‘Š   â”‚    â”‚
â”‚  â”‚ â€¢ å®šæ—¶æ‰«æ   â”‚  â”‚ â€¢ DASTå¼•æ“   â”‚  â”‚ â€¢ PDFæŠ¥å‘Š   â”‚    â”‚
â”‚  â”‚ â€¢ æ‰‹åŠ¨è§¦å‘   â”‚  â”‚ â€¢ ä¾èµ–æ‰«æ   â”‚  â”‚ â€¢ JSONæŠ¥å‘Š  â”‚    â”‚
â”‚  â”‚ â€¢ æ‰¹é‡æ‰«æ   â”‚  â”‚ â€¢ é…ç½®å®¡è®¡   â”‚  â”‚ â€¢ CSVå¯¼å‡º   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   æ¼æ´æ•°æ®    â”‚  â”‚   é€šçŸ¥å‘Šè­¦    â”‚  â”‚   ä»»åŠ¡è°ƒåº¦    â”‚    â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚    â”‚
â”‚  â”‚ â€¢ æ¼æ´å­˜å‚¨   â”‚  â”‚ â€¢ é‚®ä»¶é€šçŸ¥   â”‚  â”‚ â€¢ å®šæ—¶æ‰«æ   â”‚    â”‚
â”‚  â”‚ â€¢ æ¼æ´ç»Ÿè®¡   â”‚  â”‚ â€¢ é’‰é’‰å‘Šè­¦   â”‚  â”‚ â€¢ å‘¨æœŸä»»åŠ¡   â”‚    â”‚
â”‚  â”‚ â€¢ æ¼æ´è·Ÿè¸ª   â”‚  â”‚ â€¢ å¾®ä¿¡é€šçŸ¥   â”‚  â”‚ â€¢ è‡ªåŠ¨é‡è¯•   â”‚    â”‚
â”‚  â”‚ â€¢ å†å²è®°å½•   â”‚  â”‚ â€¢ çŸ­ä¿¡å‘Šè­¦   â”‚  â”‚ â€¢ ä»»åŠ¡ç›‘æ§   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   æ•°æ®å­˜å‚¨    â”‚  â”‚   å¤–éƒ¨é›†æˆ    â”‚  â”‚   ç›‘æ§å‘Šè­¦    â”‚    â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚    â”‚
â”‚  â”‚ â€¢ MySQL     â”‚  â”‚ â€¢ NVD API    â”‚  â”‚ â€¢ Prometheus â”‚    â”‚
â”‚  â”‚ â€¢ æ¼æ´è¡¨     â”‚  â”‚ â€¢ CVEæ•°æ®åº“  â”‚  â”‚ â€¢ Grafana   â”‚    â”‚
â”‚  â”‚ â€¢ æ‰«æè®°å½•   â”‚  â”‚ â€¢ CWEæ•°æ®åº“  â”‚  â”‚ â€¢ æŒ‡æ ‡æ”¶é›†   â”‚    â”‚
â”‚  â”‚ â€¢ ä½ç½®ä¿¡æ¯   â”‚  â”‚ â€¢ ç¬¬ä¸‰æ–¹å·¥å…· â”‚  â”‚ â€¢ å¥åº·æ£€æŸ¥   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰«ææµç¨‹

#### 1. å…¨é‡æ‰«ææµç¨‹
```
è§¦å‘æ‰«æ â†’ åˆå§‹åŒ–ä»»åŠ¡ â†’ æ‰§è¡Œé™æ€åˆ†æ â†’ æ‰§è¡Œä¾èµ–æ£€æŸ¥ â†’ æ‰§è¡Œé…ç½®å®¡è®¡ â†’ æ‰§è¡ŒåŠ¨æ€æµ‹è¯• â†’ ç”ŸæˆæŠ¥å‘Š â†’ å‘é€å‘Šè­¦
```

#### 2. é™æ€åˆ†ææµç¨‹
```
è§£æä»£ç  â†’ æ„å»ºAST â†’ åº”ç”¨è§„åˆ™ â†’ åŒ¹é…æ¼æ´æ¨¡å¼ â†’ ç”Ÿæˆå‘Šè­¦ â†’ è®°å½•ä½ç½®ä¿¡æ¯
```

#### 3. ä¾èµ–æ£€æŸ¥æµç¨‹
```
è§£æä¾èµ–æ–‡ä»¶ â†’ æŸ¥è¯¢CVEæ•°æ®åº“ â†’ å¯¹æ¯”ç‰ˆæœ¬ä¿¡æ¯ â†’ ç”Ÿæˆæ¼æ´æŠ¥å‘Š â†’ è®¡ç®—CVSSè¯„åˆ†
```

---

## ğŸ“¦ æ¨¡å—ç»“æ„

### basebackend-security æ¨¡å— - å®‰å…¨æ‰«æç»„ä»¶
```
basebackend-security/
â”œâ”€â”€ src/main/java/com/basebackend/security/
â”‚   â””â”€â”€ vuln/
â”‚       â”œâ”€â”€ Vulnerability.java              # æ¼æ´å®ä½“
â”‚       â”œâ”€â”€ VulnerabilityScanService.java   # æ‰«ææœåŠ¡
â”‚       â”œâ”€â”€ VulnerabilityMapper.java        # æ•°æ®è®¿é—®å±‚
â”‚       â”œâ”€â”€ VulnerabilityController.java    # æ‰«ææ§åˆ¶å™¨
â”‚       â”œâ”€â”€ VulnerabilityScanScheduler.java # å®šæ—¶ä»»åŠ¡
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â””â”€â”€ VulnerabilityScanConfig.java # æ‰«æé…ç½®
â”‚       â””â”€â”€ example/
â”‚           â””â”€â”€ ScanExample.java            # ä½¿ç”¨ç¤ºä¾‹
â””â”€â”€ src/main/resources/
    â””â”€â”€ db/migration/
        â””â”€â”€ V20241115__create_vulnerability_table.sql
```

---

## ğŸ”§ è¯¦ç»†é…ç½®

### 1. æ‰«æé…ç½®

#### application.ymlä¸­çš„æ¼æ´æ‰«æé…ç½®
```yaml
security:
  vulnerability-scan:
    # å¯ç”¨æ¼æ´æ‰«æ
    enabled: true

    # é™æ€ä»£ç åˆ†æé…ç½®
    static-analysis:
      enabled: true
      scan-path: "src/main/java"
      exclude-path: "**/test/**,**/generated/**"
      rules:
        - SQL_INJECTION
        - XSS
        - CSRF
        - COMMAND_INJECTION
        - PATH_TRAVERSAL
        - INSECURE_DESERIALIZATION
      include-test-code: false
      max-file-size: 10

    # ä¾èµ–æ£€æŸ¥é…ç½®
    dependency-check:
      enabled: true
      auto-update: true
      update-interval: 24
      maven-repo-url: "https://repo1.maven.org/maven2/"
      npm-repo-url: "https://registry.npmjs.org/"
      check-deprecated: true
      min-cvss-score: 0.0

    # é…ç½®å®¡è®¡é…ç½®
    config-audit:
      enabled: true
      checks:
        - SECURITY_CONFIG
        - DATABASE_CONFIG
        - SSL_CONFIG
        - CORS_CONFIG
      config-paths:
        - "application.yml"
        - "application.properties"
        - "application-security.yml"
      check-production-config: true

    # åŠ¨æ€æµ‹è¯•é…ç½®
    dynamic-testing:
      enabled: false
      target-url: "http://localhost:8080"
      auth-token: ""
      test-user: ""
      test-password: ""
      include-auth-test: false
      timeout: 30000
      concurrency: 1
      generate-poc: false

    # å¹¶è¡Œæ‰«æé…ç½®
    parallel:
      enabled: true
      thread-pool-size: 5
      task-timeout: 30

    # æŠ¥å‘Šé…ç½®
    report:
      enabled: true
      formats:
        - HTML
        - PDF
        - JSON
        - CSV
      output-path: "reports/vulnerability/"
      include-remediation: true
      include-code-snippet: true
      template: "default"

    # å‘Šè­¦é…ç½®
    alert:
      enabled: true
      high-severity-threshold: 0
      critical-severity-threshold: 0
      channels:
        - LOG
        - EMAIL
      email:
        enabled: false
        smtp-host: "smtp.example.com"
        smtp-port: 587
        username: "security@example.com"
        password: "${EMAIL_PASSWORD}"
        recipients:
          - "security-team@example.com"
        from: "security-scanner@example.com"
```

---

## ğŸ“ ä½¿ç”¨æŒ‡å—

### 1. APIæ¥å£ä½¿ç”¨

#### æ‰§è¡Œæ¼æ´æ‰«æ
```java
@RestController
public class SecurityScanController {

    @Autowired
    private VulnerabilityScanService scanService;

    /**
     * æ‰§è¡Œå…¨é‡æ‰«æ
     */
    @PostMapping("/api/security/scan/full")
    public ResponseEntity<ScanResult> performFullScan(@RequestBody ScanRequest request) {
        ScanResult result = scanService.performFullScan(request);
        return ResponseEntity.ok(result);
    }

    /**
     * æ‰§è¡Œé™æ€ä»£ç åˆ†æ
     */
    @PostMapping("/api/security/scan/static")
    public ResponseEntity<ScanResult> performStaticAnalysis(@RequestBody ScanRequest request) {
        ScanRequest staticRequest = new ScanRequest();
        staticRequest.setProjectName(request.getProjectName());
        staticRequest.setProjectPath(request.getProjectPath());
        staticRequest.setScanType(Collections.singleton(ScanType.STATIC_ANALYSIS));

        ScanResult result = scanService.performFullScan(staticRequest);
        return ResponseEntity.ok(result);
    }

    /**
     * æ‰§è¡Œä¾èµ–ç»„ä»¶æ‰«æ
     */
    @PostMapping("/api/security/scan/dependency")
    public ResponseEntity<ScanResult> performDependencyCheck(@RequestBody ScanRequest request) {
        ScanRequest dependencyRequest = new ScanRequest();
        dependencyRequest.setProjectName(request.getProjectName());
        dependencyRequest.setProjectPath(request.getProjectPath());
        dependencyRequest.setScanType(Collections.singleton(ScanType.DEPENDENCY_CHECK));

        ScanResult result = scanService.performFullScan(dependencyRequest);
        return ResponseEntity.ok(result);
    }

    /**
     * ç”Ÿæˆæ¼æ´æŠ¥å‘Š
     */
    @GetMapping("/api/security/report/{scanId}")
    public ResponseEntity<String> generateReport(@PathVariable Long scanId) {
        ScanResult result = scanService.getScanResult(scanId);
        if (result == null) {
            return ResponseEntity.notFound().build();
        }

        String report = scanService.generateVulnerabilityReport(result);
        return ResponseEntity.ok(report);
    }

    /**
     * è·å–æ¼æ´è¯¦æƒ…
     */
    @GetMapping("/api/security/vulnerabilities/{id}")
    public ResponseEntity<Vulnerability> getVulnerability(@PathVariable Long id) {
        Vulnerability vulnerability = scanService.getVulnerability(id);
        if (vulnerability == null) {
            return ResponseEntity.notFound().build();
        }
        return ResponseEntity.ok(vulnerability);
    }

    /**
     * è·å–æ¼æ´ç»Ÿè®¡
     */
    @GetMapping("/api/security/statistics")
    public ResponseEntity<Map<String, Object>> getStatistics(
            @RequestParam(required = false) String projectName
    ) {
        // TODO: å®ç°ç»Ÿè®¡æŸ¥è¯¢
        return ResponseEntity.ok(Map.of());
    }
}
```

### 2. æœåŠ¡å±‚ä½¿ç”¨

#### æ‰‹åŠ¨è§¦å‘æ‰«æ
```java
@Service
public class SecurityScanService {

    @Autowired
    private VulnerabilityScanService scanService;

    /**
     * æ‰§è¡Œé¡¹ç›®å®‰å…¨æ‰«æ
     */
    public void scanProject(String projectName, String projectPath) {
        ScanRequest request = new ScanRequest();
        request.setProjectName(projectName);
        request.setProjectPath(projectPath);
        request.setScanBy("MANUAL");

        // è®¾ç½®æ‰«æç±»å‹
        Set<ScanType> scanTypes = new HashSet<>();
        scanTypes.add(ScanType.STATIC_ANALYSIS);
        scanTypes.add(ScanType.DEPENDENCY_CHECK);
        scanTypes.add(ScanType.CONFIG_AUDIT);
        request.setScanType(scanTypes);

        log.info("å¼€å§‹æ‰§è¡Œé¡¹ç›®å®‰å…¨æ‰«æ: {}", projectName);
        ScanResult result = scanService.performFullScan(request);
        log.info("æ‰«æå®Œæˆ: å‘ç°æ¼æ´ {} ä¸ª", result.getTotalVulnerabilities());

        // æ£€æŸ¥æ˜¯å¦éœ€è¦å‘Šè­¦
        if (result.getCriticalCount() > 0 || result.getHighCount() > 0) {
            sendAlert(projectName, result);
        }
    }

    /**
     * æ‰§è¡Œä»£ç æäº¤å‰æ‰«æ
     */
    public void scanBeforeCommit(String projectPath, String commitId) {
        log.info("æ‰§è¡Œæäº¤å‰å®‰å…¨æ‰«æ: commit={}", commitId);

        // åªæ‰§è¡Œå¿«é€Ÿæ‰«æ
        ScanRequest request = createQuickScanRequest(projectPath);
        ScanResult result = scanService.performFullScan(request);

        // å¦‚æœå‘ç°é«˜å±æ¼æ´ï¼Œé˜»æ­¢æäº¤
        if (result.getCriticalCount() > 0 || result.getHighCount() > 0) {
            String report = scanService.generateVulnerabilityReport(result);
            throw new SecurityException("å‘ç°é«˜å±æ¼æ´ï¼Œç¦æ­¢æäº¤:\n" + report);
        }

        log.info("æäº¤å‰æ‰«æé€šè¿‡");
    }

    /**
     * æ‰§è¡Œå‘å¸ƒå‰æ‰«æ
     */
    public void scanBeforeRelease(String projectPath, String version) {
        log.info("æ‰§è¡Œå‘å¸ƒå‰å®‰å…¨æ‰«æ: version={}", version);

        // æ‰§è¡Œå®Œæ•´æ‰«æ
        ScanRequest request = createFullScanRequest(projectPath);
        ScanResult result = scanService.performFullScan(request);

        // ç”Ÿæˆå‘å¸ƒæŠ¥å‘Š
        String report = generateReleaseReport(result, version);

        // ä¿å­˜æŠ¥å‘Š
        saveReleaseReport(version, report);

        log.info("å‘å¸ƒå‰æ‰«æå®Œæˆ");
    }
}
```

### 3. å®šæ—¶æ‰«æé…ç½®

#### è‡ªå®šä¹‰æ‰«æä»»åŠ¡
```java
@Component
public class CustomSecurityScanScheduler {

    @Autowired
    private VulnerabilityScanService scanService;

    /**
     * æ¯æ—¥æ‰§è¡Œä¸€æ¬¡å…¨é‡æ‰«æ
     */
    @Scheduled(cron = "0 0 2 * * ?")
    public void dailyFullScan() {
        List<String> projects = getProjectList();

        for (String projectName : projects) {
            ScanRequest request = createFullScanRequestForProject(projectName);
            try {
                ScanResult result = scanService.performFullScan(request);
                log.info("é¡¹ç›® {} æ‰«æå®Œæˆ", projectName);
            } catch (Exception e) {
                log.error("é¡¹ç›® {} æ‰«æå¤±è´¥", projectName, e);
            }
        }
    }

    /**
     * æ¯6å°æ—¶æ‰§è¡Œä¸€æ¬¡å¿«é€Ÿæ‰«æ
     */
    @Scheduled(cron = "0 0 */6 * * ?")
    public void quickScan() {
        List<String> criticalProjects = getCriticalProjects();

        for (String projectName : criticalProjects) {
            ScanRequest request = createQuickScanRequestForProject(projectName);
            try {
                ScanResult result = scanService.performFullScan(request);
                // æ£€æŸ¥é«˜å±æ¼æ´
                if (result.getCriticalCount() > 0) {
                    sendCriticalAlert(projectName, result);
                }
            } catch (Exception e) {
                log.error("é¡¹ç›® {} å¿«é€Ÿæ‰«æå¤±è´¥", projectName, e);
            }
        }
    }

    /**
     * æ¯å‘¨ä¸€æ‰§è¡Œä¾èµ–æ‰«æ
     */
    @Scheduled(cron = "0 0 9 ? * MON")
    public void weeklyDependencyScan() {
        List<String> projects = getProjectList();

        for (String projectName : projects) {
            ScanRequest request = createDependencyScanRequest(projectName);
            try {
                ScanResult result = scanService.performFullScan(request);
                log.info("é¡¹ç›® {} ä¾èµ–æ‰«æå®Œæˆ", projectName);
            } catch (Exception e) {
                log.error("é¡¹ç›® {} ä¾èµ–æ‰«æå¤±è´¥", projectName, e);
            }
        }
    }
}
```

---

## ğŸ“Š æŠ¥å‘Šç”Ÿæˆ

### 1. ç”ŸæˆHTMLæŠ¥å‘Š

```java
@Service
public class VulnerabilityReportService {

    /**
     * ç”Ÿæˆè¯¦ç»†HTMLæŠ¥å‘Š
     */
    public String generateHtmlReport(ScanResult result) {
        StringBuilder html = new StringBuilder();

        html.append("<!DOCTYPE html>");
        html.append("<html><head>");
        html.append("<meta charset='UTF-8'>");
        html.append("<title>å®‰å…¨æ¼æ´æ‰«ææŠ¥å‘Š</title>");
        html.append("<style>").append(getReportCss()).append("</style>");
        html.append("</head><body>");

        // æŠ¥å‘Šå¤´éƒ¨
        html.append("<div class='report-header'>");
        html.append("<h1>å®‰å…¨æ¼æ´æ‰«ææŠ¥å‘Š</h1>");
        html.append("<p>é¡¹ç›®: ").append(result.getProjectName()).append("</p>");
        html.append("<p>æ‰«ææ—¶é—´: ").append(result.getStartTime()).append("</p>");
        html.append("</div>");

        // ç»Ÿè®¡ä¿¡æ¯
        html.append("<div class='statistics'>");
        html.append("<h2>æ¼æ´ç»Ÿè®¡</h2>");
        html.append("<table>");
        html.append("<tr><th>ä¸¥é‡ç¨‹åº¦</th><th>æ•°é‡</th></tr>");
        html.append("<tr><td>ä¸¥é‡</td><td class='critical'>").append(result.getCriticalCount()).append("</td></tr>");
        html.append("<tr><td>é«˜å±</td><td class='high'>").append(result.getHighCount()).append("</td></tr>");
        html.append("<tr><td>ä¸­å±</td><td class='medium'>").append(result.getMediumCount()).append("</td></tr>");
        html.append("<tr><td>ä½å±</td><td class='low'>").append(result.getLowCount()).append("</td></tr>");
        html.append("</table>");
        html.append("</div>");

        // æ¼æ´è¯¦æƒ…
        html.append("<div class='vulnerabilities'>");
        html.append("<h2>æ¼æ´è¯¦æƒ…</h2>");

        for (Vulnerability vuln : result.getVulnerabilities()) {
            html.append("<div class='vulnerability-card'>");
            html.append("<h3>").append(vuln.getName()).append("</h3>");
            html.append("<p><strong>ç±»å‹:</strong> ").append(vuln.getType()).append("</p>");
            html.append("<p><strong>ä¸¥é‡ç¨‹åº¦:</strong> <span class='severity-")
                  .append(vuln.getSeverity().name().toLowerCase()).append("'>")
                  .append(vuln.getSeverity()).append("</span></p>");
            html.append("<p><strong>CVSSè¯„åˆ†:</strong> ").append(vuln.getCvssScore()).append("</p>");
            html.append("<p><strong>æè¿°:</strong> ").append(vuln.getDescription()).append("</p>");
            html.append("<p><strong>ä¿®å¤å»ºè®®:</strong> ").append(vuln.getRemediation()).append("</p>");
            html.append("</div>");
        }

        html.append("</div>");
        html.append("</body></html>");

        return html.toString();
    }

    /**
     * ç”ŸæˆJSONæŠ¥å‘Š
     */
    public String generateJsonReport(ScanResult result) {
        Map<String, Object> report = new HashMap<>();
        report.put("projectName", result.getProjectName());
        report.put("scanTime", result.getStartTime());
        report.put("statistics", Map.of(
                "total", result.getTotalVulnerabilities(),
                "critical", result.getCriticalCount(),
                "high", result.getHighCount(),
                "medium", result.getMediumCount(),
                "low", result.getLowCount()
        ));
        report.put("vulnerabilities", result.getVulnerabilities());

        return new Gson().toJson(report);
    }

    /**
     * ç”ŸæˆCSVæŠ¥å‘Š
     */
    public void generateCsvReport(ScanResult result, OutputStream outputStream) throws IOException {
        try (CSVWriter writer = new CSVWriter(new OutputStreamWriter(outputStream))) {
            // å†™å…¥è¡¨å¤´
            writer.writeNext(new String[]{
                    "æ¼æ´åç§°", "ç±»å‹", "ä¸¥é‡ç¨‹åº¦", "CVSSè¯„åˆ†", "CVEç¼–å·", "CWEç¼–å·",
                    "å½±å“ç»„ä»¶", "ä¿®å¤å»ºè®®", "çŠ¶æ€", "å‘ç°æ—¶é—´"
            });

            // å†™å…¥æ•°æ®
            for (Vulnerability vuln : result.getVulnerabilities()) {
                writer.writeNext(new String[]{
                        vuln.getName(),
                        vuln.getType().name(),
                        vuln.getSeverity().name(),
                        String.valueOf(vuln.getCvssScore()),
                        vuln.getCveId(),
                        vuln.getCweId(),
                        vuln.getAffectedComponent(),
                        vuln.getRemediation(),
                        vuln.getStatus().name(),
                        vuln.getDiscoveredAt().toString()
                });
            }
        }
    }

    private String getReportCss() {
        return """
            body { font-family: Arial, sans-serif; margin: 20px; }
            .report-header { background: #f5f5f5; padding: 20px; border-radius: 5px; }
            .statistics table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            .statistics th, .statistics td { padding: 10px; text-align: left; border: 1px solid #ddd; }
            .statistics th { background: #f5f5f5; }
            .critical { color: #d32f2f; font-weight: bold; }
            .high { color: #f57c00; font-weight: bold; }
            .medium { color: #fbc02d; font-weight: bold; }
            .low { color: #388e3c; font-weight: bold; }
            .vulnerability-card { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; }
            .severity-critical { color: #d32f2f; }
            .severity-high { color: #f57c00; }
            .severity-medium { color: #fbc02d; }
            .severity-low { color: #388e3c; }
            """;
    }
}
```

### 2. æŠ¥å‘Šæ¨¡æ¿

```xml
<!-- æŠ¥å‘Šæ¨¡æ¿: templates/vulnerability-report.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>å®‰å…¨æ¼æ´æ‰«ææŠ¥å‘Š</title>
    <style>
        /* æ ·å¼å®šä¹‰ */
    </style>
</head>
<body>
    <div class="report-header">
        <h1>å®‰å…¨æ¼æ´æ‰«ææŠ¥å‘Š</h1>
        <div class="report-info">
            <p><strong>é¡¹ç›®:</strong> {{projectName}}</p>
            <p><strong>æ‰«ææ—¶é—´:</strong> {{scanTime}}</p>
            <p><strong>æ‰«æç±»å‹:</strong> {{scanType}}</p>
        </div>
    </div>

    <div class="summary">
        <h2>æ¼æ´ç»Ÿè®¡</h2>
        <div class="stats-grid">
            <div class="stat-card critical">
                <h3>ä¸¥é‡</h3>
                <div class="stat-value">{{criticalCount}}</div>
            </div>
            <div class="stat-card high">
                <h3>é«˜å±</h3>
                <div class="stat-value">{{highCount}}</div>
            </div>
            <div class="stat-card medium">
                <h3>ä¸­å±</h3>
                <div class="stat-value">{{mediumCount}}</div>
            </div>
            <div class="stat-card low">
                <h3>ä½å±</h3>
                <div class="stat-value">{{lowCount}}</div>
            </div>
        </div>
    </div>

    <div class="vulnerabilities">
        <h2>æ¼æ´è¯¦æƒ…</h2>
        {{#vulnerabilities}}
        <div class="vuln-card severity-{{severity}}">
            <div class="vuln-header">
                <h3>{{name}}</h3>
                <span class="severity-badge">{{severity}}</span>
            </div>
            <div class="vuln-details">
                <p><strong>ç±»å‹:</strong> {{type}}</p>
                <p><strong>CVSSè¯„åˆ†:</strong> {{cvssScore}}</p>
                {{#cveId}}<p><strong>CVE:</strong> {{cveId}}</p>{{/cveId}}
                <p><strong>æè¿°:</strong> {{description}}</p>
                <p><strong>ä¿®å¤å»ºè®®:</strong> {{remediation}}</p>
                {{#locations}}
                <div class="location">
                    <strong>ä½ç½®:</strong> {{filePath}}:{{lineNumber}}
                </div>
                {{/locations}}
            </div>
        </div>
        {{/vulnerabilities}}
    </div>

    <div class="footer">
        <p>æŠ¥å‘Šç”Ÿæˆæ—¶é—´: {{generateTime}}</p>
        <p>ç”±BaseBackendå®‰å…¨æ‰«æç³»ç»Ÿç”Ÿæˆ</p>
    </div>
</body>
</html>
```

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. å•å…ƒæµ‹è¯•

```java
@SpringBootTest
public class VulnerabilityScanServiceTest {

    @Autowired
    private VulnerabilityScanService scanService;

    @Autowired
    private VulnerabilityMapper mapper;

    @Test
    public void testStaticAnalysis() {
        // åˆ›å»ºæ‰«æè¯·æ±‚
        ScanRequest request = new ScanRequest();
        request.setProjectName("test-project");
        request.setProjectPath("src/test/resources/test-project");
        request.setScanType(Collections.singleton(ScanType.STATIC_ANALYSIS));

        // æ‰§è¡Œæ‰«æ
        ScanResult result = scanService.performFullScan(request);

        // éªŒè¯ç»“æœ
        assertThat(result).isNotNull();
        assertThat(result.getStatus()).isEqualTo(ScanStatus.COMPLETED);
        assertThat(result.getTotalVulnerabilities()).isGreaterThanOrEqualTo(0);
    }

    @Test
    public void testDependencyCheck() {
        ScanRequest request = new ScanRequest();
        request.setProjectName("test-project");
        request.setProjectPath("src/test/resources/test-project");
        request.setScanType(Collections.singleton(ScanType.DEPENDENCY_CHECK));

        ScanResult result = scanService.performFullScan(request);

        assertThat(result).isNotNull();
        assertThat(result.getStatus()).isEqualTo(ScanStatus.COMPLETED);
    }

    @Test
    public void testVulnerabilityPersistence() {
        // åˆ›å»ºæ¼æ´
        Vulnerability vulnerability = new Vulnerability();
        vulnerability.setName("Test Vulnerability");
        vulnerability.setType(Vulnerability.VulnerabilityType.SQL_INJECTION);
        vulnerability.setSeverity(Vulnerability.Severity.HIGH);
        vulnerability.setCvssScore(7.5);
        vulnerability.setDescription("Test description");
        vulnerability.setRemediation("Test remediation");
        vulnerability.setStatus(Vulnerability.Status.PENDING);
        vulnerability.setSource(Vulnerability.ScanSource.MANUAL_TEST);
        vulnerability.setDiscoveredAt(LocalDateTime.now());

        // ä¿å­˜æ¼æ´
        mapper.insert(vulnerability);
        assertThat(vulnerability.getId()).isNotNull();

        // æŸ¥è¯¢æ¼æ´
        Vulnerability saved = mapper.selectById(vulnerability.getId());
        assertThat(saved).isNotNull();
        assertThat(saved.getName()).isEqualTo("Test Vulnerability");

        // æ›´æ–°æ¼æ´çŠ¶æ€
        mapper.updateStatus(vulnerability.getId(), Vulnerability.Status.CONFIRMED);

        // éªŒè¯æ›´æ–°
        Vulnerability updated = mapper.selectById(vulnerability.getId());
        assertThat(updated.getStatus()).isEqualTo(Vulnerability.Status.CONFIRMED);
    }

    @Test
    public void testScanStatistics() {
        Map<String, Object> stats = mapper.selectStatistics("test-project");
        assertThat(stats).isNotNull();
        assertThat(stats).containsKey("total");
        assertThat(stats).containsKey("critical");
        assertThat(stats).containsKey("high");
    }
}
```

### 2. é›†æˆæµ‹è¯•

```java
@SpringBootTest
@TestMethodOrder(OrderAnnotation.class)
public class VulnerabilityScanIntegrationTest {

    @Autowired
    private VulnerabilityScanService scanService;

    @Autowired
    private VulnerabilityMapper mapper;

    @Test
    @Order(1)
    public void testFullScanWorkflow() {
        ScanRequest request = createTestScanRequest();
        ScanResult result = scanService.performFullScan(request);

        assertThat(result).isNotNull();
        assertThat(result.getStatus()).isEqualTo(ScanStatus.COMPLETED);

        // éªŒè¯æ¼æ´å·²ä¿å­˜
        List<Vulnerability> vulnerabilities = mapper.selectList(
                "test-project", null, null, null, 100
        );
        assertThat(vulnerabilities).isNotNull();
    }

    @Test
    @Order(2)
    public void testReportGeneration() {
        ScanResult result = scanService.getScanResult(1L);
        if (result != null) {
            String report = scanService.generateVulnerabilityReport(result);
            assertThat(report).isNotNull();
            assertThat(report).contains("æ¼æ´æ‰«ææŠ¥å‘Š");
        }
    }

    private ScanRequest createTestScanRequest() {
        ScanRequest request = new ScanRequest();
        request.setProjectName("test-project");
        request.setProjectPath("src/test/resources/test-project");
        request.setScanBy("INTEGRATION_TEST");
        request.setScanType(new HashSet<>(Arrays.asList(
                ScanType.STATIC_ANALYSIS,
                ScanType.DEPENDENCY_CHECK
        )));
        request.setModules(Arrays.asList("core", "web"));
        return request;
    }
}
```

---

## ğŸ“ˆ ç›‘æ§å’Œå‘Šè­¦

### 1. æ‰«ææŒ‡æ ‡ç›‘æ§

```java
@RestController
public class VulnerabilityMetricsController {

    @GetMapping("/actuator/vulnerability-metrics")
    public Map<String, Object> getMetrics() {
        Map<String, Object> metrics = new HashMap<>();

        // æ‰«æç»Ÿè®¡
        metrics.put("total_scans", getTotalScans());
        metrics.put("successful_scans", getSuccessfulScans());
        metrics.put("failed_scans", getFailedScans());
        metrics.put("scan_success_rate", getScanSuccessRate());

        // æ¼æ´ç»Ÿè®¡
        metrics.put("total_vulnerabilities", getTotalVulnerabilities());
        metrics.put("critical_vulnerabilities", getCriticalVulnerabilities());
        metrics.put("high_vulnerabilities", getHighVulnerabilities());
        metrics.put("open_vulnerabilities", getOpenVulnerabilities());
        metrics.put("fixed_vulnerabilities", getFixedVulnerabilities());

        // è¶‹åŠ¿ç»Ÿè®¡
        metrics.put("vulnerabilities_last_7_days", getVulnerabilitiesLast7Days());
        metrics.put("vulnerabilities_trend", getVulnerabilitiesTrend());

        return metrics;
    }

    @GetMapping("/actuator/vulnerability-health")
    public Map<String, Object> getHealth() {
        Map<String, Object> health = new HashMap<>();

        String status = "UP";
        List<String> issues = new ArrayList<>();

        // æ£€æŸ¥æ•°æ®åº“è¿æ¥
        if (!checkDatabaseConnection()) {
            status = "DOWN";
            issues.add("Database connection failed");
        }

        // æ£€æŸ¥NVD APIè¿æ¥
        if (!checkNvdApiConnection()) {
            status = "DOWN";
            issues.add("NVD API connection failed");
        }

        // æ£€æŸ¥æ‰«æä»»åŠ¡é˜Ÿåˆ—
        if (getQueueSize() > 100) {
            status = "WARN";
            issues.add("Scan queue size is too large");
        }

        health.put("status", status);
        if (!issues.isEmpty()) {
            health.put("issues", issues);
        }

        return health;
    }
}
```

### 2. å‘Šè­¦é€šçŸ¥

```java
@Component
public class VulnerabilityAlertService {

    @Autowired
    private EmailService emailService;

    @Autowired
    private DingTalkService dingTalkService;

    /**
     * å‘é€é«˜å±æ¼æ´å‘Šè­¦
     */
    public void sendHighSeverityAlert(String projectName, ScanResult result) {
        // æ„å»ºå‘Šè­¦æ¶ˆæ¯
        String subject = String.format("[å®‰å…¨å‘Šè­¦] é¡¹ç›® %s å‘ç°é«˜å±æ¼æ´", projectName);
        String message = buildAlertMessage(projectName, result);

        // å‘é€é‚®ä»¶
        emailService.sendAlert(subject, message);

        // å‘é€é’‰é’‰é€šçŸ¥
        if (isDingTalkEnabled()) {
            dingTalkService.sendMessage(message);
        }

        // è®°å½•å‘Šè­¦æ—¥å¿—
        log.warn("å‘é€é«˜å±æ¼æ´å‘Šè­¦: project={}, critical={}, high={}",
                projectName, result.getCriticalCount(), result.getHighCount());
    }

    /**
     * å‘é€é•¿æœŸæœªä¿®å¤æ¼æ´å‘Šè­¦
     */
    public void sendLongStandingVulnerabilityAlert(Vulnerability vulnerability) {
        String subject = String.format("[å®‰å…¨å‘Šè­¦] é•¿æœŸæœªä¿®å¤æ¼æ´: %s", vulnerability.getName());
        String message = String.format(
                "æ¼æ´ %s å·²å‘ç° %d å¤©ä»æœªä¿®å¤\n" +
                "ä¸¥é‡ç¨‹åº¦: %s\n" +
                "CVSSè¯„åˆ†: %s\n" +
                "è¯·åŠæ—¶å¤„ç†",
                vulnerability.getName(),
                ChronoUnit.DAYS.between(vulnerability.getDiscoveredAt(), LocalDateTime.now()),
                vulnerability.getSeverity(),
                vulnerability.getCvssScore()
        );

        emailService.sendAlert(subject, message);
        log.warn("å‘é€é•¿æœŸæœªä¿®å¤æ¼æ´å‘Šè­¦: vuln={}", vulnerability.getName());
    }

    /**
     * å‘é€å‘¨æŠ¥
     */
    public void sendWeeklyReport(List<Vulnerability> vulnerabilities) {
        String subject = "[å®‰å…¨å‘¨æŠ¥] æœ¬å‘¨å®‰å…¨æ¼æ´æ‰«ææŠ¥å‘Š";
        String htmlContent = buildWeeklyReportHtml(vulnerabilities);

        emailService.sendHtmlAlert(subject, htmlContent);
        log.info("å‘é€å®‰å…¨å‘¨æŠ¥");
    }

    private String buildAlertMessage(String projectName, ScanResult result) {
        StringBuilder msg = new StringBuilder();
        msg.append("é¡¹ç›®: ").append(projectName).append("\n\n");
        msg.append("æ‰«ææ—¶é—´: ").append(result.getStartTime()).append("\n\n");
        msg.append("æ¼æ´ç»Ÿè®¡:\n");
        msg.append("  ä¸¥é‡: ").append(result.getCriticalCount()).append("\n");
        msg.append("  é«˜å±: ").append(result.getHighCount()).append("\n");
        msg.append("  ä¸­å±: ").append(result.getMediumCount()).append("\n");
        msg.append("  ä½å±: ").append(result.getLowCount()).append("\n\n");
        msg.append("è¯·åŠæ—¶å¤„ç†é«˜å±æ¼æ´ï¼");
        return msg.toString();
    }
}
```

---

## ğŸ“š æœ€ä½³å®è·µ

### 1. æ‰«æç­–ç•¥

- **ä»£ç æäº¤å‰æ‰«æ**: åœ¨CI/CDæµç¨‹ä¸­é›†æˆå¿«é€Ÿæ‰«æ
- **å®šæœŸå…¨é¢æ‰«æ**: æ¯æ—¥æ‰§è¡Œå…¨é‡æ‰«æï¼Œæ¯å‘¨æ‰§è¡Œä¾èµ–æ‰«æ
- **å‘å¸ƒå‰æ‰«æ**: å‘å¸ƒå‰å¿…é¡»é€šè¿‡å®‰å…¨æ‰«ææ£€æŸ¥
- **ä¼˜å…ˆçº§æ‰«æ**: é’ˆå¯¹æ ¸å¿ƒç³»ç»Ÿæ‰§è¡Œæ›´é¢‘ç¹çš„æ‰«æ

### 2. æ¼æ´ç®¡ç†

- **å¿«é€Ÿå“åº”**: é«˜å±æ¼æ´24å°æ—¶å†…å“åº”ï¼Œä¸¥é‡æ¼æ´48å°æ—¶å†…å“åº”
- **å®šæœŸå¤æŸ¥**: æ¯å‘¨å®¡æŸ¥æœªä¿®å¤æ¼æ´ï¼Œåˆ¶å®šä¿®å¤è®¡åˆ’
- **çŸ¥è¯†åº“å»ºè®¾**: å»ºç«‹æ¼æ´ä¿®å¤çŸ¥è¯†åº“ï¼Œæé«˜ä¿®å¤æ•ˆç‡
- **æµç¨‹ä¼˜åŒ–**: ç®€åŒ–æ¼æ´ä¿®å¤æµç¨‹ï¼Œå‡å°‘ä¿®å¤æ—¶é—´

### 3. æ€§èƒ½ä¼˜åŒ–

- **å¹¶è¡Œæ‰«æ**: å¯ç”¨å¹¶è¡Œæ‰«ææé«˜æ•ˆç‡
- **ç¼“å­˜æœºåˆ¶**: ç¼“å­˜ä¾èµ–æ£€æŸ¥ç»“æœï¼Œå‡å°‘é‡å¤æŸ¥è¯¢
- **å¢é‡æ‰«æ**: æ”¯æŒå¢é‡æ‰«æï¼Œåªæ£€æŸ¥å˜æ›´ä»£ç 
- **èµ„æºæ§åˆ¶**: åˆç†è®¾ç½®å¹¶å‘æ•°å’Œè¶…æ—¶æ—¶é—´

### 4. å®‰å…¨è€ƒè™‘

- **æ‰«æå®‰å…¨**: ç¡®ä¿æ‰«æå·¥å…·æœ¬èº«çš„å®‰å…¨æ€§
- **æ•°æ®ä¿æŠ¤**: æ•æ„Ÿæ‰«æç»“æœåŠ å¯†å­˜å‚¨
- **è®¿é—®æ§åˆ¶**: é™åˆ¶æ‰«ææŠ¥å‘Šçš„è®¿é—®æƒé™
- **å®¡è®¡æ—¥å¿—**: è®°å½•æ‰€æœ‰æ‰«ææ“ä½œ

---

## ğŸ”§ æ•…éšœæ’é™¤

### 1. å¸¸è§é—®é¢˜

#### æ‰«æä»»åŠ¡æ‰§è¡Œå¤±è´¥
```
é”™è¯¯: Scan task failed with timeout
è§£å†³: å¢åŠ task-timeouté…ç½®ï¼Œæ£€æŸ¥ç›®æ ‡ç³»ç»Ÿæ€§èƒ½
```

#### ä¾èµ–æ£€æŸ¥å¤±è´¥
```
é”™è¯¯: Dependency check failed
è§£å†³: æ£€æŸ¥Maven/NPMä»“åº“è¿æ¥ï¼Œæ›´æ–°ä¾èµ–æ•°æ®åº“
```

#### æŠ¥å‘Šç”Ÿæˆå¤±è´¥
```
é”™è¯¯: Report generation failed
è§£å†³: æ£€æŸ¥æ¨¡æ¿æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ŒéªŒè¯æ•°æ®æ ¼å¼
```

### 2. è°ƒè¯•å·¥å…·

#### å¯ç”¨è°ƒè¯•æ—¥å¿—
```yaml
logging:
  level:
    com.basebackend.security.vuln: DEBUG
    org.springframework.scheduling: DEBUG
```

#### æ‰«æå¥åº·æ£€æŸ¥
```java
@GetMapping("/debug/scan-health")
public Map<String, Object> checkScanHealth() {
    Map<String, Object> health = new HashMap<>();
    health.put("database", checkDb());
    health.put("nvd_api", checkNvdApi());
    health.put("scan_queue", getQueueSize());
    health.put("last_scan_time", getLastScanTime());
    return health;
}
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **æŠ€æœ¯æ”¯æŒé‚®ç®±**: security@basebackend.com
- **æŠ€æœ¯æ–‡æ¡£**: https://docs.basebackend.com/vulnerability-scanning
- **GitHub**: https://github.com/basebackend/vulnerability-scanning

### å‚è€ƒèµ„æ–™
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [NVD National Vulnerability Database](https://nvd.nist.gov/)
- [CWE Common Weakness Enumeration](https://cwe.mitre.org/)
- [CVSS Common Vulnerability Scoring System](https://www.first.org/cvss/)

---

**ç¼–åˆ¶**: æµ®æµ®é…± ğŸ±ï¼ˆçŒ«å¨˜å·¥ç¨‹å¸ˆï¼‰
**æ—¥æœŸ**: 2025-11-15
**ç‰ˆæœ¬**: v1.0.0
