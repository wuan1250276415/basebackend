# å·¥ä½œæµé¡µé¢å®Œå–„å®æ–½è®¡åˆ’

## æ¦‚è¿°

æœ¬è®¡åˆ’æä¾›ä»é›¶å¼€å§‹æ„å»ºå·¥ä½œæµç®¡ç†é¡µé¢çš„å®Œæ•´å®æ–½æ–¹æ¡ˆï¼ŒåŒ…æ‹¬é¡µé¢ç»“æ„ã€åŠŸèƒ½æ¨¡å—å’Œå¼€å‘æ­¥éª¤ã€‚

## ğŸ“ é¡µé¢æ¶æ„è®¾è®¡

### æ•´ä½“å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      é¡¶éƒ¨å¯¼èˆªæ                            â”‚
â”‚  Logo | å·¥ä½œæµç®¡ç† | æµç¨‹å®šä¹‰ | ä»»åŠ¡ä¸­å¿ƒ | ç›‘æ§é¢æ¿        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  é¢åŒ…å±‘å¯¼èˆª                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚                    ä¸»å†…å®¹åŒºåŸŸ                            â”‚
â”‚                  (æ ¹æ®è·¯ç”±åŠ¨æ€åŠ è½½)                       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡µé¢è·¯ç”±ç»“æ„
```
/workflow
â”œâ”€â”€ /workflow/dashboard          # å·¥ä½œæµä»ªè¡¨æ¿
â”œâ”€â”€ /workflow/process-definitions # æµç¨‹å®šä¹‰ç®¡ç†
â”‚   â”œâ”€â”€ /list                    # æµç¨‹å®šä¹‰åˆ—è¡¨
â”‚   â”œâ”€â”€ /deploy                  # æµç¨‹éƒ¨ç½²
â”‚   â””â”€â”€ /detail/:id              # æµç¨‹è¯¦æƒ…
â”œâ”€â”€ /workflow/process-instances  # æµç¨‹å®ä¾‹ç®¡ç†
â”‚   â”œâ”€â”€ /list                    # å®ä¾‹åˆ—è¡¨
â”‚   â”œâ”€â”€ /detail/:id              # å®ä¾‹è¯¦æƒ…
â”‚   â””â”€â”€ /track/:id               # å®ä¾‹è·Ÿè¸ª
â””â”€â”€ /workflow/tasks              # ä»»åŠ¡ä¸­å¿ƒ
    â”œâ”€â”€ /my-tasks                # æˆ‘çš„ä»»åŠ¡
    â”œâ”€â”€ /todo                    # å¾…åŠä»»åŠ¡
    â””â”€â”€ /task-detail/:id         # ä»»åŠ¡è¯¦æƒ…
```

## ğŸ¯ åˆ†é˜¶æ®µå®æ–½è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€æ¡†æ¶æ­å»º (ç¬¬1-2å‘¨)

#### 1.1 é¡¹ç›®åˆå§‹åŒ–
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] åˆ›å»ºå‰ç«¯é¡¹ç›®ç»“æ„ï¼ˆæ¨èä½¿ç”¨ Vue3 + TypeScript + Viteï¼‰
- [ ] é›†æˆ UI ç»„ä»¶åº“ï¼ˆæ¨è Element Plus æˆ– Ant Design Vueï¼‰
- [ ] é…ç½®è·¯ç”±ç³»ç»Ÿï¼ˆVue Routerï¼‰
- [ ] é…ç½®çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
- [ ] é…ç½® HTTP å®¢æˆ·ç«¯ï¼ˆAxiosï¼‰
- [ ] é…ç½® TypeScript å’Œ ESLint

**æŠ€æœ¯é€‰å‹**ï¼š
```typescript
// æ¨èæŠ€æœ¯æ ˆ
- Framework: Vue 3 + TypeScript
- Build Tool: Vite
- UI Library: Element Plus / Ant Design Vue
- Router: Vue Router 4
- State Management: Pinia
- HTTP Client: Axios
- CSS Preprocessor: SCSS
- Icons: @element-plus/icons-vue
```

#### 1.2 åŸºç¡€ç»„ä»¶å¼€å‘
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] åˆ›å»ºå…¨å±€å¸ƒå±€ç»„ä»¶ (`Layout`)
- [ ] åˆ›å»ºä¾§è¾¹æ å¯¼èˆªç»„ä»¶ (`Sidebar`)
- [ ] åˆ›å»ºé¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶ (`Navbar`)
- [ ] åˆ›å»ºé¢åŒ…å±‘å¯¼èˆªç»„ä»¶ (`Breadcrumb`)
- [ ] åˆ›å»ºé€šç”¨è¡¨æ ¼ç»„ä»¶ (`DataTable`)
- [ ] åˆ›å»ºé€šç”¨è¡¨å•ç»„ä»¶ (`FormDialog`)
- [ ] åˆ›å»ºåŠ è½½çŠ¶æ€ç»„ä»¶ (`Loading`)
- [ ] åˆ›å»ºç©ºçŠ¶æ€ç»„ä»¶ (`Empty`)

#### 1.3 API å±‚å°è£…
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] åˆ›å»º HTTP å®¢æˆ·ç«¯å°è£… (`api/client.ts`)
- [ ] åˆ›å»ºå“åº”æ‹¦æˆªå™¨
- [ ] åˆ›å»ºé”™è¯¯å¤„ç†æœºåˆ¶
- [ ] åˆ›å»º API ç±»å‹å®šä¹‰ (`types/api.ts`)
- [ ] åˆ›å»ºè®¤è¯ Token ç®¡ç†

**ç¤ºä¾‹ä»£ç **ï¼š
```typescript
// api/client.ts
import axios from 'axios'
import { ElMessage } from 'element-plus'

const client = axios.create({
  baseURL: 'http://localhost:8089',
  timeout: 10000
})

// è¯·æ±‚æ‹¦æˆªå™¨
client.interceptors.request.use(config => {
  const token = localStorage.getItem('access_token')
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})

// å“åº”æ‹¦æˆªå™¨
client.interceptors.response.use(
  response => response.data,
  error => {
    ElMessage.error(error.response?.data?.message || 'è¯·æ±‚å¤±è´¥')
    return Promise.reject(error)
  }
)

export default client
```

#### 1.4 API æ¥å£å°è£…
**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] åˆ›å»ºæµç¨‹å®šä¹‰ API (`api/processDefinition.ts`)
- [ ] åˆ›å»ºæµç¨‹å®ä¾‹ API (`api/processInstance.ts`)
- [ ] åˆ›å»ºä»»åŠ¡ API (`api/task.ts`)
- [ ] åˆ›å»ºå†å²æŸ¥è¯¢ API (`api/historic.ts`)

**ç¤ºä¾‹ä»£ç **ï¼š
```typescript
// api/processDefinition.ts
import client from './client'

export const processDefinitionApi = {
  // åˆ†é¡µæŸ¥è¯¢æµç¨‹å®šä¹‰
  list(params: ProcessDefinitionQuery) {
    return client.get('/api/camunda/process-definitions', { params })
  },

  // éƒ¨ç½²æµç¨‹
  deploy(data: DeployRequest) {
    const formData = new FormData()
    formData.append('file', data.file)
    if (data.tenantId) formData.append('tenantId', data.tenantId)
    if (data.deploymentName) formData.append('deploymentName', data.deploymentName)
    return client.post('/api/camunda/process-definitions/deployments', formData, {
      headers: { 'Content-Type': 'multipart/form-data' }
    })
  },

  // å¯åŠ¨æµç¨‹å®ä¾‹
  start(data: StartProcessRequest) {
    return client.post('/api/camunda/process-definitions/start', data)
  },

  // è·å–è¯¦æƒ…
  getDetail(definitionId: string) {
    return client.get(`/api/camunda/process-definitions/${definitionId}`)
  },

  // æŒ‚èµ·/æ¿€æ´»
  suspend(definitionId: string, suspended: boolean) {
    return client.put(`/api/camunda/process-definitions/${definitionId}/suspend`, {
      suspended,
      includeInstance: false
    })
  }
}
```

### é˜¶æ®µ2ï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ (ç¬¬3-5å‘¨)

#### 2.1 æµç¨‹å®šä¹‰ç®¡ç†é¡µé¢
**é¡µé¢åŠŸèƒ½**ï¼š
- [ ] æµç¨‹å®šä¹‰åˆ—è¡¨é¡µ (`/workflow/process-definitions/list`)
- [ ] æµç¨‹éƒ¨ç½²é¡µ (`/workflow/process-definitions/deploy`)
- [ ] æµç¨‹è¯¦æƒ…é¡µ (`/workflow/process-definitions/detail/:id`)

**è¯¦ç»†éœ€æ±‚**ï¼š

**A. åˆ—è¡¨é¡µåŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- åˆ†é¡µæŸ¥è¯¢å’Œæ’åº
- å¤šæ¡ä»¶ç­›é€‰ï¼ˆç‰ˆæœ¬ã€çŠ¶æ€ã€ç§Ÿæˆ·ï¼‰
- æ‰¹é‡æ“ä½œï¼ˆæŒ‚èµ·/æ¿€æ´»/åˆ é™¤ï¼‰
- æœç´¢åŠŸèƒ½ï¼ˆæµç¨‹åç§°/Keyï¼‰
- å¯¼å‡ºåŠŸèƒ½
- éƒ¨ç½²æŒ‰é’®
```

**B. éƒ¨ç½²é¡µåŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ï¼ˆBPMN æ–‡ä»¶ï¼‰
- ç§Ÿæˆ·é€‰æ‹©
- éƒ¨ç½²åç§°è¾“å…¥
- ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
- éƒ¨ç½²ç»“æœåé¦ˆ
```

**C. è¯¦æƒ…é¡µåŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- æµç¨‹åŸºæœ¬ä¿¡æ¯å±•ç¤º
- BPMN å›¾å½¢æ˜¾ç¤ºï¼ˆä½¿ç”¨ bpmn-jsï¼‰
- æµç¨‹ç‰ˆæœ¬ä¿¡æ¯
- éƒ¨ç½²ä¿¡æ¯
- æ“ä½œæŒ‰é’®ï¼ˆæŒ‚èµ·/æ¿€æ´»/åˆ é™¤/ä¸‹è½½ï¼‰
- ç›¸å…³å®ä¾‹åˆ—è¡¨
```

#### 2.2 æµç¨‹å®ä¾‹ç®¡ç†é¡µé¢
**é¡µé¢åŠŸèƒ½**ï¼š
- [ ] æµç¨‹å®ä¾‹åˆ—è¡¨é¡µ (`/workflow/process-instances/list`)
- [ ] æµç¨‹å®ä¾‹è¯¦æƒ…é¡µ (`/workflow/process-instances/detail/:id`)
- [ ] æµç¨‹è·Ÿè¸ªé¡µ (`/workflow/process-instances/track/:id`)

**è¯¦ç»†éœ€æ±‚**ï¼š

**A. åˆ—è¡¨é¡µåŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- åˆ†é¡µæŸ¥è¯¢ï¼ˆçŠ¶æ€ã€ç§Ÿæˆ·ã€æ—¶é—´èŒƒå›´ï¼‰
- é«˜çº§ç­›é€‰ï¼ˆæµç¨‹å®šä¹‰ã€ä¸šåŠ¡Keyã€å‘èµ·äººï¼‰
- çŠ¶æ€æ ‡ç­¾ï¼ˆè¿è¡Œä¸­/å·²ç»“æŸ/å·²æŒ‚èµ·ï¼‰
- æ“ä½œæŒ‰é’®ï¼ˆæŸ¥çœ‹è¯¦æƒ…/ç»ˆæ­¢/åˆ é™¤/å˜é‡ç®¡ç†ï¼‰
- å¯¼å‡ºåŠŸèƒ½
```

**B. è¯¦æƒ…é¡µåŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- å®ä¾‹åŸºæœ¬ä¿¡æ¯
- æµç¨‹å˜é‡å±•ç¤ºå’Œç¼–è¾‘
- å½“å‰æ´»åŠ¨èŠ‚ç‚¹é«˜äº®
- æ“ä½œæŒ‰é’®ï¼ˆæŒ‚èµ·/æ¿€æ´»/ç»ˆæ­¢/åˆ é™¤ï¼‰
- æ´»åŠ¨å†å²æ—¶é—´çº¿
```

**C. è·Ÿè¸ªé¡µåŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- æµç¨‹å›¾å®æ—¶é«˜äº®å½“å‰èŠ‚ç‚¹
- èŠ‚ç‚¹ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
- æ—¶é—´çº¿å±•ç¤º
- å˜é‡å¿«ç…§
```

#### 2.3 ä»»åŠ¡ä¸­å¿ƒé¡µé¢
**é¡µé¢åŠŸèƒ½**ï¼š
- [ ] æˆ‘çš„ä»»åŠ¡é¡µ (`/workflow/tasks/my-tasks`)
- [ ] å¾…åŠä»»åŠ¡é¡µ (`/workflow/tasks/todo`)
- [ ] ä»»åŠ¡è¯¦æƒ…é¡µ (`/workflow/tasks/task-detail/:id`)

**è¯¦ç»†éœ€æ±‚**ï¼š

**A. ä»»åŠ¡åˆ—è¡¨åŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- åˆ†é¡µæŸ¥è¯¢ï¼ˆåˆ†é…äººã€å€™é€‰ç»„ã€çŠ¶æ€ï¼‰
- ä»»åŠ¡åˆ†ç»„ï¼ˆæŒ‰æµç¨‹/æŒ‰ä¼˜å…ˆçº§/æŒ‰æˆªæ­¢æ—¶é—´ï¼‰
- æ‰¹é‡æ“ä½œï¼ˆè®¤é¢†/å®Œæˆ/å§”æ‰˜ï¼‰
- ä»»åŠ¡ç­›é€‰ï¼ˆç´§æ€¥/ä»Šæ—¥åˆ°æœŸ/é€¾æœŸï¼‰
- ä»»åŠ¡æœç´¢ï¼ˆä»»åŠ¡åç§°/æµç¨‹åç§°ï¼‰
```

**B. ä»»åŠ¡è¯¦æƒ…åŠŸèƒ½**ï¼š
```vue
<!-- åŠŸèƒ½ç‚¹ -->
- ä»»åŠ¡åŸºæœ¬ä¿¡æ¯
- æµç¨‹å˜é‡å±•ç¤ºå’Œç¼–è¾‘
- åŠ¨æ€è¡¨å•æ¸²æŸ“
- ä»»åŠ¡æ“ä½œï¼ˆè®¤é¢†/é‡Šæ”¾/å®Œæˆ/å§”æ‰˜ï¼‰
- è¯„è®ºå’Œé™„ä»¶
- æµç¨‹å›¾é«˜äº®
```

**C. åŠ¨æ€è¡¨å•ç»„ä»¶**ï¼š
```typescript
// åŠ¨æ€è¡¨å•æ¸²æŸ“ç¤ºä¾‹
interface FormField {
  type: 'text' | 'textarea' | 'number' | 'date' | 'select' | 'radio' | 'checkbox'
  label: string
  name: string
  required: boolean
  options?: { label: string; value: any }[]
  defaultValue?: any
}

const renderFormField = (field: FormField) => {
  switch (field.type) {
    case 'text':
      return <el-input v-model={formData[field.name]} />
    case 'number':
      return <el-input-number v-model={formData[field.name]} />
    case 'select':
      return (
        <el-select v-model={formData[field.name]}>
          {field.options?.map(option => (
            <el-option label={option.label} value={option.value} />
          ))}
        </el-select>
      )
    // ... å…¶ä»–ç±»å‹
  }
}
```

### é˜¶æ®µ3ï¼šé«˜çº§åŠŸèƒ½å¼€å‘ (ç¬¬6-7å‘¨)

#### 3.1 å·¥ä½œæµä»ªè¡¨æ¿
**é¡µé¢åŠŸèƒ½**ï¼š
- [ ] ç»Ÿè®¡å¡ç‰‡ï¼ˆè¿è¡Œå®ä¾‹æ•°ã€å¾…åŠä»»åŠ¡æ•°ã€å¤±è´¥ä»»åŠ¡æ•°ï¼‰
- [ ] æµç¨‹å®ä¾‹è¶‹åŠ¿å›¾
- [ ] ä»»åŠ¡åˆ†å¸ƒé¥¼å›¾
- [ ] æœ€è¿‘æ´»åŠ¨åˆ—è¡¨
- [ ] å¤±è´¥ä»»åŠ¡åˆ—è¡¨

#### 3.2 ç›‘æ§è¿ç»´é¡µé¢
**é¡µé¢åŠŸèƒ½**ï¼š
- [ ] å¼•æ“çŠ¶æ€ç›‘æ§
- [ ] Job æ‰§è¡Œæƒ…å†µ
- [ ] æ€§èƒ½æŒ‡æ ‡å±•ç¤º
- [ ] å¼‚å¸¸æ—¥å¿—æŸ¥è¯¢

#### 3.3 å†å²æŸ¥è¯¢é¡µé¢
**é¡µé¢åŠŸèƒ½**ï¼š
- [ ] å†å²å®ä¾‹æŸ¥è¯¢
- [ ] æµç¨‹å®ä¾‹è¿½è¸ª
- [ ] ä»»åŠ¡å®Œæˆç»Ÿè®¡
- [ ] æ•°æ®å¯¼å‡º

### é˜¶æ®µ4ï¼šä½“éªŒä¼˜åŒ– (ç¬¬8å‘¨)

#### 4.1 æ€§èƒ½ä¼˜åŒ–
- [ ] è™šæ‹Ÿæ»šåŠ¨ï¼ˆé•¿åˆ—è¡¨ï¼‰
- [ ] è¡¨æ ¼æ‡’åŠ è½½
- [ ] è·¯ç”±æ‡’åŠ è½½
- [ ] ç»„ä»¶ç¼“å­˜
- [ ] å›¾ç‰‡æ‡’åŠ è½½

#### 4.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] éª¨æ¶å±åŠ è½½
- [ ] ç©ºçŠ¶æ€é¡µé¢
- [ ] æ“ä½œåé¦ˆï¼ˆToast/Confirmï¼‰
- [ ] å¿«æ·é”®æ”¯æŒ
- [ ] ä¸»é¢˜åˆ‡æ¢

#### 4.3 ç§»åŠ¨ç«¯é€‚é…
- [ ] å“åº”å¼å¸ƒå±€
- [ ] ç§»åŠ¨ç«¯èœå•
- [ ] è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–

## ğŸ¨ ç»„ä»¶è®¾è®¡è§„èŒƒ

### é€šç”¨ç»„ä»¶æ¸…å•

#### 1. DataTable ç»„ä»¶
```vue
<template>
  <div class="data-table">
    <!-- æœç´¢æ  -->
    <div class="table-toolbar">
      <slot name="toolbar">
        <el-button type="primary" @click="$emit('add')">æ–°å¢</el-button>
      </slot>
    </div>

    <!-- è¡¨æ ¼ -->
    <el-table
      :data="data"
      :loading="loading"
      @selection-change="handleSelectionChange"
    >
      <slot />
    </el-table>

    <!-- åˆ†é¡µ -->
    <el-pagination
      v-if="showPagination"
      :current-page="pageNo"
      :page-size="pageSize"
      :total="total"
      @current-change="handlePageChange"
    />
  </div>
</template>
```

#### 2. FormDialog ç»„ä»¶
```vue
<template>
  <el-dialog
    v-model="visible"
    :title="title"
    :width="width"
    @close="handleClose"
  >
    <el-form ref="formRef" :model="form" :rules="rules">
      <slot />
    </el-form>

    <template #footer>
      <el-button @click="handleClose">å–æ¶ˆ</el-button>
      <el-button type="primary" @click="handleSubmit" :loading="submitting">
        ç¡®å®š
      </el-button>
    </template>
  </el-dialog>
</template>
```

#### 3. ProcessViewer ç»„ä»¶ï¼ˆæµç¨‹å›¾æŸ¥çœ‹å™¨ï¼‰
```vue
<template>
  <div class="process-viewer" ref="container">
    <div ref="canvas" class="canvas" />
  </div>
</template>

<script setup lang="ts">
import BpmnModeler from 'bpmn-js/lib/Modeler'
import { ref, onMounted, watch } from 'vue'

const props = defineProps<{
  xml: string
  highlightedNodes?: string[]
}>()

const container = ref<HTMLElement>()
const canvas = ref<HTMLElement>()
let modeler: BpmnModeler

onMounted(() => {
  modeler = new BpmnModeler({
    container: canvas.value
  })
  loadDiagram()
})

const loadDiagram = async () => {
  try {
    await modeler.importXML(props.xml)
    highlightElements()
  } catch (error) {
    console.error('åŠ è½½æµç¨‹å›¾å¤±è´¥:', error)
  }
}

const highlightElements = () => {
  if (!props.highlightedNodes?.length) return

  const elementRegistry = modeler.get('elementRegistry')
  props.highlightedNodes.forEach(nodeId => {
    const element = elementRegistry.get(nodeId)
    if (element) {
      modeler.get('canvas').addMarker(nodeId, 'highlight')
    }
  })
}
</script>
```

## ğŸ“± å“åº”å¼è®¾è®¡

### æ–­ç‚¹è®¾ç½®
```scss
$breakpoints: (
  xs: 0,
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1600px
);

@mixin respond-to($breakpoint) {
  @media (min-width: map-get($breakpoints, $breakpoint)) {
    @content;
  }
}
```

### å¸ƒå±€é€‚é…
```vue
<template>
  <div class="workflow-layout">
    <!-- æ¡Œé¢ç«¯ä¾§è¾¹æ  -->
    <el-aside class="sidebar desktop-only" :width="240">
      <WorkflowSidebar />
    </el-aside>

    <!-- ç§»åŠ¨ç«¯æŠ½å±‰ -->
    <el-drawer
      v-model="mobileDrawerVisible"
      direction="ltr"
      class="mobile-only"
    >
      <WorkflowSidebar @navigate="handleNavigate" />
    </el-drawer>

    <!-- ä¸»å†…å®¹åŒº -->
    <el-main class="main-content">
      <router-view />
    </el-main>
  </div>
</template>
```

## ğŸ”’ æƒé™æ§åˆ¶

### è·¯ç”±å®ˆå«
```typescript
// router/guards.ts
import { useUserStore } from '@/stores/user'

router.beforeEach((to, from, next) => {
  const userStore = useUserStore()

  // æ£€æŸ¥ç™»å½•çŠ¶æ€
  if (!userStore.isLoggedIn) {
    next('/login')
    return
  }

  // æ£€æŸ¥æƒé™
  const requiredPermission = to.meta.permission as string
  if (requiredPermission && !userStore.hasPermission(requiredPermission)) {
    ElMessage.warning('æ²¡æœ‰æƒé™è®¿é—®è¯¥é¡µé¢')
    next('/403')
    return
  }

  next()
})
```

### æŒ‡ä»¤æ§åˆ¶
```typescript
// directives/permission.ts
import { useUserStore } from '@/stores/user'

export default {
  mounted(el: HTMLElement, binding: any) {
    const userStore = useUserStore()
    const permission = binding.value

    if (permission && !userStore.hasPermission(permission)) {
      el.style.display = 'none'
    }
  }
}
```

## ğŸ“Š æ•°æ®æµè®¾è®¡

### Pinia çŠ¶æ€ç®¡ç†
```typescript
// stores/workflow.ts
import { defineStore } from 'pinia'
import { processDefinitionApi } from '@/api/workflow'

export const useWorkflowStore = defineStore('workflow', {
  state: () => ({
    processDefinitions: [] as ProcessDefinition[],
    loading: false,
    pagination: {
      pageNo: 1,
      pageSize: 20,
      total: 0
    }
  }),

  actions: {
    async fetchProcessDefinitions(params: any) {
      this.loading = true
      try {
        const result = await processDefinitionApi.list(params)
        this.processDefinitions = result.data.data
        this.pagination = {
          pageNo: result.data.pageNo,
          pageSize: result.data.pageSize,
          total: result.data.total
        }
      } finally {
        this.loading = false
      }
    },

    async deployProcess(data: DeployRequest) {
      await processDefinitionApi.deploy(data)
      this.fetchProcessDefinitions(this.pagination)
    }
  }
})
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
```typescript
// tests/api/workflow.test.ts
import { processDefinitionApi } from '@/api/workflow'
import client from '@/api/client'

jest.mock('@/api/client')

describe('Workflow API', () => {
  test('should fetch process definitions', async () => {
    const mockResponse = {
      success: true,
      data: {
        total: 1,
        data: [{ id: '1', name: 'Test Process' }]
      }
    }
    ;(client.get as jest.Mock).mockResolvedValue(mockResponse)

    const result = await processDefinitionApi.list({ pageNo: 1 })
    expect(result.data.data).toHaveLength(1)
  })
})
```

### E2E æµ‹è¯•
```typescript
// tests/e2e/workflow.spec.ts
import { test, expect } from '@playwright/test'

test('should deploy process successfully', async ({ page }) => {
  await page.goto('/workflow/process-definitions/deploy')

  // ä¸Šä¼ æ–‡ä»¶
  const fileInput = page.locator('input[type="file"]')
  await fileInput.setInputFiles('test/process.bpmn')

  // ç‚¹å‡»éƒ¨ç½²æŒ‰é’®
  await page.click('button:has-text("éƒ¨ç½²")')

  // éªŒè¯æˆåŠŸæ¶ˆæ¯
  await expect(page.locator('.el-message')).toContainText('éƒ¨ç½²æˆåŠŸ')
})
```

## ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—

### åŸ‹ç‚¹ç»Ÿè®¡
```typescript
// utils/analytics.ts
export const trackPageView = (pageName: string) => {
  // å‘é€é¡µé¢è®¿é—®ç»Ÿè®¡
  console.log('Page View:', pageName)
}

export const trackEvent = (eventName: string, properties?: any) => {
  // å‘é€äº‹ä»¶ç»Ÿè®¡
  console.log('Event:', eventName, properties)
}
```

### é”™è¯¯ç›‘æ§
```typescript
// utils/errorHandler.ts
window.addEventListener('error', (event) => {
  console.error('Global Error:', event.error)
  // å‘é€é”™è¯¯åˆ°ç›‘æ§å¹³å°
})

window.addEventListener('unhandledrejection', (event) => {
  console.error('Unhandled Promise Rejection:', event.reason)
  // å‘é€é”™è¯¯åˆ°ç›‘æ§å¹³å°
})
```

## ğŸ“ å¼€å‘è§„èŒƒ

### Git æäº¤è§„èŒƒ
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºæˆ–è¾…åŠ©å·¥å…·å˜åŠ¨
```

### ä»£ç å®¡æŸ¥æ¸…å•
- [ ] åŠŸèƒ½å®ç°å®Œæ•´æ€§
- [ ] ä»£ç è´¨é‡å’Œå¯è¯»æ€§
- [ ] é”™è¯¯å¤„ç†
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨æ€§æ£€æŸ¥
- [ ] æµ‹è¯•è¦†ç›–ç‡
- [ ] æ–‡æ¡£æ›´æ–°

## ğŸ¯ é‡Œç¨‹ç¢‘è®¡åˆ’

| é˜¶æ®µ | æ—¶é—´ | äº¤ä»˜ç‰© |
|------|------|--------|
| é˜¶æ®µ1 | ç¬¬1-2å‘¨ | åŸºç¡€æ¡†æ¶ã€APIå°è£…ã€é€šç”¨ç»„ä»¶ |
| é˜¶æ®µ2 | ç¬¬3-5å‘¨ | æµç¨‹å®šä¹‰ã€æµç¨‹å®ä¾‹ã€ä»»åŠ¡ä¸­å¿ƒé¡µé¢ |
| é˜¶æ®µ3 | ç¬¬6-7å‘¨ | ä»ªè¡¨æ¿ã€ç›‘æ§ã€å†å²æŸ¥è¯¢ |
| é˜¶æ®µ4 | ç¬¬8å‘¨ | æ€§èƒ½ä¼˜åŒ–ã€ç§»åŠ¨ç«¯é€‚é…ã€æµ‹è¯• |

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥é˜… API æ–‡æ¡£ï¼š`/docs/frontend/API_INTEGRATION_GUIDE.md`
2. å‚è€ƒä»£ç ç¤ºä¾‹
3. è”ç³»åç«¯å›¢é˜Ÿ
4. æŸ¥çœ‹ Camunda å®˜æ–¹æ–‡æ¡£
