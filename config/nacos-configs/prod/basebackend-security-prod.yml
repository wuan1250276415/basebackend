# BaseBackend Security 生产环境配置
# 部署在 Nacos 配置中心

basebackend:
  security:
    # 是否启用安全控制
    enabled: true

    # 权限控制配置
    permission:
      enabled: true
      # 当未实现 PermissionService 时是否失败
      fail-when-missing: true
      # 默认权限列表
      defaults:
        - system:dept:view
        - system:dict:view

    # JWT 配置
    jwt:
      enabled: true
      # Token 头部名称
      header-name: "Authorization"
      # Token 前缀
      prefix: "Bearer "
      # 是否从请求参数中获取 Token
      allow-from-request-parameter: false

    # 数据权限配置
    data-scope:
      enabled: true
      # 默认数据权限类型
      default-type: "DEPT"

    # 审计配置
    audit:
      enabled: true
      # 是否记录成功操作
      log-success: true
      # 是否记录失败操作
      log-failure: true

# JWT Secret 配置（必须从环境变量或密钥管理服务获取）
# 生产环境禁止使用默认密钥！
# jwt:
#   secret: ${JWT_SECRET}
#   expiration: ${JWT_EXPIRATION:7200000}  # 2小时

# 数据库安全增强配置
database:
  enhanced:
    # 安全增强配置
    security:
      # 数据权限拦截器
      data-scope:
        enabled: true
