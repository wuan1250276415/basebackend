# SonarCloud项目配置

# 项目基本信息
sonar.projectKey=wuan1250276415
sonar.organization=wuan1250276415

# 项目元数据
sonar.projectName=Base Backend
sonar.projectVersion=1.0.0
sonar.links.homepage=https://github.com/wuan1250276415/basebackend
sonar.links.ci=https://github.com/wuan1250276415/basebackend/actions
sonar.links.scm=https://github.com/wuan1250276415/basebackend
sonar.links.issue=https://github.com/wuan1250276415/basebackend/issues

# 源代码配置
sonar.sources=src/main/java
sonar.tests=src/test/java
sonar.java.binaries=target/classes
sonar.java.test.binaries=target/test-classes

# 排除文件
sonar.exclusions=\
  **/target/**,\
  **/node_modules/**,\
  **/logs/**,\
  **/*.xml,\
  **/*.sql,\
  **/db/**,\
  **/docker/**,\
  **/docs/**

sonar.test.exclusions=\
  **/test/**,\
  **/*Test.java,\
  **/*Tests.java

# 覆盖率配置
sonar.coverage.jacoco.xmlReportPaths=**/target/site/jacoco/jacoco.xml
sonar.java.coveragePlugin=jacoco

# Java版本
sonar.java.source=17
sonar.java.target=17

# 质量门禁
# 注意：质量门禁规则在SonarCloud Web界面配置
# 推荐规则：
# - 新代码覆盖率 >= 80%
# - 重复率 < 3%
# - 可维护性评级 >= A
# - 可靠性评级 >= A
# - 安全性评级 >= A

# 分析选项
sonar.sourceEncoding=UTF-8
sonar.scm.provider=git

# 多模块配置
sonar.modules=\
  basebackend-common,\
  basebackend-jwt,\
  basebackend-database,\
  basebackend-cache,\
  basebackend-logging,\
  basebackend-security,\
  basebackend-observability,\
  basebackend-messaging,\
  basebackend-file-service,\
  basebackend-backup,\
  basebackend-nacos,\
  basebackend-gateway,\
  basebackend-admin-api,\
  basebackend-demo-api

# 模块路径
basebackend-common.sonar.projectBaseDir=basebackend-common
basebackend-jwt.sonar.projectBaseDir=basebackend-jwt
basebackend-database.sonar.projectBaseDir=basebackend-database
basebackend-cache.sonar.projectBaseDir=basebackend-cache
basebackend-logging.sonar.projectBaseDir=basebackend-logging
basebackend-security.sonar.projectBaseDir=basebackend-security
basebackend-observability.sonar.projectBaseDir=basebackend-observability
basebackend-messaging.sonar.projectBaseDir=basebackend-messaging
basebackend-file-service.sonar.projectBaseDir=basebackend-file-service
basebackend-backup.sonar.projectBaseDir=basebackend-backup
basebackend-nacos.sonar.projectBaseDir=basebackend-nacos
basebackend-gateway.sonar.projectBaseDir=basebackend-gateway
basebackend-admin-api.sonar.projectBaseDir=basebackend-admin-api
basebackend-demo-api.sonar.projectBaseDir=basebackend-demo-api
