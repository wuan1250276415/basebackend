# Nacos 3.1.0 集群配置 - 解决HealthHandler问题

# 数据库配置
spring.datasource.platform=mysql
db.num=1
db.url.0=jdbc:mysql://nacos-mysql:3306/nacos_config?characterEncoding=utf8&connectTimeout=10000&socketTimeout=30000&autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true
db.user=nacos
db.password=nacos123

# 集群配置
nacos.core.auth.console.enabled=true
nacos.core.auth.system.type=nacos
nacos.core.auth.plugin.nacos.token.secret.key=bmFjb3NfMjAyNTEwMjFfd3VhbjEyNTAyNzY0MTVfcGF0aA==
nacos.core.auth.server.identity.key=nacos
nacos.core.auth.server.identity.value=nacos
nacos.core.auth.enabled=true
nacos.console.ui.enabled=true

# 集群节点配置
nacos.core.cluster.server.nodes=nacos1:8848,nacos2:8848,nacos3:8848
nacos.core.cluster.server.port=9848

# 禁用有问题的健康检查组件 - 解决HealthHandler bean问题
nacos.console.health.enabled=false
nacos.console.health.proxy.enabled=false
nacos.console.health.handler.enabled=false

# 启用简化的健康检查
nacos.console.health.simple.enabled=true

# 禁用有问题的控制器
nacos.console.controller.health.enabled=false
