# ================================================================================================
# RocketMQ Broker 配置文件
# ================================================================================================

# Broker 名称
brokerName=broker-a

# Broker 集群名称
brokerClusterName=DefaultCluster

# Broker ID (0 表示 Master，非0 表示 Slave)
brokerId=0

# NameServer 地址
namesrvAddr=rocketmq-namesrv:9876

# Broker IP 地址（留空自动检测）
brokerIP1=

# 在发送消息时，自动创建服务器不存在的 Topic
autoCreateTopicEnable=true

# 在发送消息时，自动创建订阅组
autoCreateSubscriptionGroup=true

# Broker 对外服务的监听端口
listenPort=10911

# 删除文件时间点，默认凌晨4点
deleteWhen=04

# 文件保留时间，默认48小时
fileReservedTime=48

# commitLog 每个文件的大小，默认1G
mapedFileSizeCommitLog=1073741824

# ConsumeQueue 每个文件大小，默认30w个条目
mapedFileSizeConsumeQueue=300000

# destroyMapedFileIntervalForcibly
destroyMapedFileIntervalForcibly=120000

# redeleteHangedFileInterval
redeleteHangedFileInterval=120000

# 检测物理文件磁盘空间
diskMaxUsedSpaceRatio=88

# 存储路径
storePathRootDir=/home/rocketmq/store
storePathCommitLog=/home/rocketmq/store/commitlog

# commitLog 目录所在分区的最大使用比例
diskMaxUsedSpaceRatio=75

# 清除过期文件线程调度间隔
cleanFileForciblyEnable=true

# 是否支持消息轨迹
traceTopicEnable=true

# Broker 角色
# - ASYNC_MASTER 异步复制Master
# - SYNC_MASTER 同步双写Master
# - SLAVE
brokerRole=ASYNC_MASTER

# 刷盘方式
# - ASYNC_FLUSH 异步刷盘
# - SYNC_FLUSH 同步刷盘
flushDiskType=ASYNC_FLUSH

# 允许的消息大小
maxMessageSize=4194304
