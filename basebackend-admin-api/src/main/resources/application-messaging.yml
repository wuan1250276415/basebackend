## 消息配置
messaging:
  # RocketMQ配置
  rocketmq:
    enabled: true
    default-topic: notification-topic
    topic-prefix: basebackend.

  # 重试配置
  retry:
    enabled: true
    max-attempts: 16
    # RocketMQ延迟级别：1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h

  # 死信队列配置
  dead-letter:
    enabled: true
    topic: basebackend-dlq-topic
    consumer-group: basebackend-dlq-consumer-group

  # 事务消息配置
  transaction:
    enabled: true
    table-name: sys_message_log
    check-interval: 60
    timeout: 30

  # 幂等性配置
  idempotency:
    enabled: true
    expire-time: 3600
    key-prefix: "msg:idempotent:"

## Spring RocketMQ配置
rocketmq:
  name-server: 192.168.66.126:9876
  producer:
    group: notification-producer-group
    send-message-timeout: 3000
    compress-message-body-threshold: 4096
    max-message-size: 4194304
    retry-times-when-send-failed: 2
    retry-times-when-send-async-failed: 2
    retry-next-server: false
  consumer:
    group: notification-consumer-group
    consume-timeout: 15
